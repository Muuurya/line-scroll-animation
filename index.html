<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./style.css" />
    <title>Document</title>
  </head>
  <body>
    <div class="line-container">
        <svg  viewBox="0 0 118 666" fill="none" preserveAspectRatio="xMinYMax meet">
            <path d="M57 0.5V215.5C57.1667 221.167 55.7 234.3 48.5 241.5L34.5 256.5L25 267L17.5 260L14.5 263L21 270L3.00001 288C2.83334 289.833 3.70001 293.5 8.50001 293.5L23 279L26.5 275.5L33.5 282L36.5 279L29.5 272L46 255L65 236C72.1667 228.667 86.8 213.9 88 213.5C89.2 213.1 105.5 197 113.5 189C112.833 188.167 110.5 187 106.5 189L57 234V582C57.5 583.5 59.1 586.7 61.5 587.5L67 589.5C67.6667 587.833 69.3 582.9 70.5 576.5L115 553.5C110.5 567.833 96.7 597.6 77.5 602C78.1667 605 78.8 612 76 616C78.6667 617.167 85.1 619.5 89.5 619.5L112.5 663.5C100.333 660.5 73.6 648.9 64 626.5C61.1667 627.333 54.4 628.2 50 625C49.1667 626.833 47.3 632.1 46.5 638.5L2.5 661.5C6.66667 647.333 19.9 617.8 39.5 613C38.8333 610.5 38.1 604.2 40.5 599C38.1667 598 32.3 595.9 27.5 595.5L4.5 551.5C18.5 556.167 47.8 569.9 53 587.5C53.6667 590.833 56.3 597.5 61.5 597.5C65.1667 599.167 71.4 604.6 67 613C64.5 616 57.6 620.2 50 613C48.3333 609.333 47.2 601.1 56 597.5" stroke="#FF0000" stroke-width="3"/>
            </svg>
            
            
            
    </div>
    <section class="one">
      <h1 class="scroll" data-rate="0.4" data-direction="vertical">
        Ninja stuff
      </h1>
    </section>
    <section class="two">
      <h1 class="scroll" data-rate=".2" data-direction="vertical">
        OMG! scroll
      </h1>
      <p>Big Fuji</p>
    </section>
</section>
<script>
    let path = document.querySelector("path");
    let pathLength = path.getTotalLength();
  
    path.style.strokeDasharray = pathLength + " " + pathLength;
  
    path.style.strokeDashoffset = pathLength;
  
    window.addEventListener("scroll", () => {
      var scrollPercentage =
        (document.documentElement.scrollTop + document.body.scrollTop) /
        (document.documentElement.scrollHeight -
          document.documentElement.clientHeight);
  
      var drawLength = pathLength * scrollPercentage;
  
      path.style.strokeDashoffset = pathLength - drawLength;
      const target = document.querySelectorAll(".scroll");
  
  var index = 0, length = target.length;
  for (index; index < length; index++) {    
    var pos = window.pageYOffset * target[index].dataset.rate;
  
    if (target[index].dataset.direction === "vertical") {
      target[index].style.transform = "translate3d(0px," + pos + "px,0px)";
    } else {
      var posX = window.pageYOffset * target[index].dataset.retex;
      var posY = window.pageYOffset * target[index].dataset.retey;
  
      target[index].style.transform = "translate3d(" + posX + "px," + posY + "px,0px)";
    }
  }
    });
  </script>
    
  </body>
</html>
